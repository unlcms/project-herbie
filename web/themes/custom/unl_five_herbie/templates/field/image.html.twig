{#
/**
 * @file
 * Theme override of an image.
 *
 * Available variables:
 * - attributes: HTML attributes for the img tag.
 * - style_name: (optional) The name of the image style applied.
 *
 * @see template_preprocess_image()
 */
#}

{% set field_name = attributes.storage['data-field-name']|render %}

{# Loop through potential fields and add classes. #}
{% if field_name == 'b_card_image' %}
  {% set attributes = attributes.addClass(['dcf-d-block', 'dcf-lazy-img', 'dcf-fade-in']) %}
{% endif %}
{% if field_name == 'b_cdcir_image' %}
  {% set attributes = attributes.addClass(['dcf-d-block', 'dcf-lazy-img', 'dcf-fade-in', 'dcf-h-100%', 'dcf-w-100%', 'dcf-circle', 'dcf-ratio-child']) %}
{% endif %}

{# Regardless of the field, remove the data-field-name attribute. #}
<img{{ attributes.removeAttribute('data-field-name') }} />

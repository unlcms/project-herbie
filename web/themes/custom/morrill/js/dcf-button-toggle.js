define(["exports","./dcf-utility"],function(e,s){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){{var n;if(e)return"string"==typeof e?o(e,t):"Map"===(n="Object"===(n={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==i(e)?e:e+""}(o.key),o)}}Object.defineProperty(e,"__esModule",{value:!0}),e.DCFToggleButton=void 0;e.DCFToggleButton=function(){function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=this,o=r;if(!(n instanceof o))throw new TypeError("Cannot call a class as a function");this.toggleButtonOn=new Event(r.events("toggleButtonOn")),this.toggleButtonOff=new Event(r.events("toggleButtonOff")),this.toggleElementOn=new Event(r.events("toggleElementOn")),this.toggleElementOff=new Event(r.events("toggleElementOff")),this.toggleKeys=[],Array.isArray(t.toggleKeys)?this.toggleKeys=l(t.toggleKeys):null!=t.toggleKeys&&""!==t.toggleKeys&&this.toggleKeys.push(t.toggleKeys),this.onKeys=[],Array.isArray(t.onKeys)?this.onKeys=l(t.onKeys):null!=t.onKeys&&""!==t.onKeys&&this.onKeys.push(t.onKeys),this.offKeys=[],Array.isArray(t.offKeys)?this.offKeys=l(t.offKeys):null!=t.offKeys&&""!==t.offKeys&&this.offKeys.push(t.offKeys),this.toggleKeys.includes("space")||this.toggleKeys.push("space"),this.offKeys.includes("escape")||this.offKeys.push("escape"),this.uuid=s.DCFUtility.uuidv4(),this.toggleButtons=e,NodeList.prototype.isPrototypeOf(this.toggleButtons)?this.toggleButtons=Array.from(this.toggleButtons):Array.isArray(this.toggleButtons)||(this.toggleButtons=[this.toggleButtons])}return e=r,n=[{key:"events",value:function(e){var t={toggleButtonOn:"toggleButtonOn",toggleButtonOff:"toggleButtonOff",toggleElementOn:"toggleElementOn",toggleElementOff:"toggleElementOff",commandClose:"commandClose",commandOpen:"commandOpen",commandToggle:"commandToggle"};return Object.freeze(t),e in t?t[e]:void 0}}],(t=[{key:"initialize",value:function(){var r=this;this.toggleButtons.forEach(function(e){var t=e.dataset.controls,n=document.getElementById(t);if(null===n)throw new Error("Missing Toggle Element");var o=e.dataset.postfix,i=(void 0===o&&(o=""),e.dataset.startExpanded);if(void 0===i&&(i="false"),""===e.id&&(e.id=r.uuid.concat("-button-",o)),e.setAttribute("aria-controls",t),null!==n.getAttribute("aria-labelledby")&&n.getAttribute("aria-labelledby")!==e.id)throw new Error("Toggle Element Already Has Toggle Button");n.setAttribute("aria-labelledby",e.id),r.toggleSwitched(e,n,"true"===i?"open":"close",!0),r.eventListeners(e,n),null!==n.getAttribute("hidden")&&n.removeAttribute("hidden")})}},{key:"eventListeners",value:function(n,o){var i=this;n.addEventListener("click",function(e){i.toggleSwitched(n,o)&&e.preventDefault()},!1),n.addEventListener("keydown",function(t){i.toggleKeys.forEach(function(e){s.DCFUtility.isKeyEvent(t,s.DCFUtility.keyEvents(e))&&i.toggleSwitched(n,o)&&t.preventDefault()}),i.onKeys.forEach(function(e){s.DCFUtility.isKeyEvent(t,s.DCFUtility.keyEvents(e))&&i.toggleSwitched(n,o,"open")&&t.preventDefault()}),i.offKeys.forEach(function(e){s.DCFUtility.isKeyEvent(t,s.DCFUtility.keyEvents(e))&&i.toggleSwitched(n,o,"close")&&t.preventDefault()})},!1),n.addEventListener(r.events("commandOpen"),function(){i.toggleSwitched(n,o,"open")}),n.addEventListener(r.events("commandClose"),function(){i.toggleSwitched(n,o,"close")}),n.addEventListener(r.events("commandToggle"),function(){i.toggleSwitched(n,o)}),o.addEventListener(r.events("commandOpen"),function(){i.toggleSwitched(n,o,"open")}),o.addEventListener(r.events("commandClose"),function(){i.toggleSwitched(n,o,"close")}),o.addEventListener(r.events("commandToggle"),function(){i.toggleSwitched(n,o)})}},{key:"toggleSwitched",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",o=3<arguments.length&&void 0!==arguments[3]&&arguments[3],i=e.dataset.labelOn,r=e.dataset.labelOff;return"false"!==e.getAttribute("aria-expanded")&&null!==e.getAttribute("aria-expanded")&&""!==e.getAttribute("aria-expanded")||"open"!==n&&""!==n?!("true"!==e.getAttribute("aria-expanded")&&null!==e.getAttribute("aria-expanded")&&""!==e.getAttribute("aria-expanded")||"close"!==n&&""!==n||(e.setAttribute("aria-expanded","false"),"labelOn"in e.dataset&&e.setAttribute("aria-label",i),e.dispatchEvent(this.toggleButtonOff),t.setAttribute("aria-hidden","true"),t.classList.remove("dcf-opacity-100","dcf-pointer-events-auto"),t.classList.add("dcf-pointer-events-none","dcf-opacity-0"),o||""===window.getComputedStyle(t,null).getPropertyValue("transition")?t.classList.add("dcf-d-none"):t.addEventListener("transitionend",this.removeDisplayNone),t.dispatchEvent(this.toggleElementOff),0)):(e.setAttribute("aria-expanded","true"),"labelOff"in e.dataset&&e.setAttribute("aria-label",r),e.dispatchEvent(this.toggleButtonOn),t.removeEventListener("transitionend",this.removeDisplayNone),t.setAttribute("aria-hidden","false"),t.classList.remove("dcf-d-none"),setTimeout(function(){t.classList.remove("dcf-opacity-0","dcf-pointer-events-none"),t.classList.add("dcf-opacity-100","dcf-pointer-events-auto")},10),t.dispatchEvent(this.toggleElementOn),t.focus(),!0)}},{key:"removeDisplayNone",value:function(e){e.currentTarget.classList.add("dcf-d-none"),e.currentTarget.removeEventListener("transitionend",this.removeDisplayNone)}}])&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}()});